---
permalink: /:basename
title: Demos
---

<!doctype html>

<html>
	<head>
		<title>Cade Conradson - {{ page.title }}</title>
		<link rel="shortcut icon" type="image/jpg" href="{{ site.url }}/assets/images/snakeface.jpg">
		<link rel="stylesheet" type="text/css" href="{{ site.url }}/assets/css/main.css">
		<link rel="stylesheet" type="text/css" href="{{ site.url }}/assets/css/column.css">
		<script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
		<script src="https://cdn.jsdelivr.net/npm/vega-lite@4"></script>
		<script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
	</head>
	
	<body>
		<div id="wrap">
		
			<div id="header">
				<h3 class='site-title'>{{ site.title }}</h3>
				<p class='page-title'>{{ page.title }}</p>
			</div>
			
			<div class="nav">
				<a href="{{ site.url }}">Home</a>
				<a href="{{ site.url }}/projects/">Projects</a>
				<a href="{{ site.url }}/interests/">For Fun</a>
				<a href="{{ site.url }}/about/">About</a>
			</div>
			
			<div class = "body">
				<div id="visual">
					<script type="text/javascript">
					var counts = {{ site.data.leaguecounts | jsonify }};
					var placeHistory = {{ site.data.placeHistory | jsonify }};
					var pHist = [];
					var tiers = [];
					var divisions = [];
					var player = "tracer";
					//isolate records for relevant player
					for (let i = 0; i < placeHistory.length; i++) {
						if (placeHistory[i].player == player) {
							pHist.push(placeHistory[i]);
							seasons.push(placeHistory[i].season);
							tiers.push(placeHistory[i].tier);
						}
					}
					//find missing seasons and insert nulls
					var toadd = [];
					for (let s = seasons[0]; s < seasons[seasons.length-1]; s++) {
						if (!(seasons.includes(String(s)))) {
							pHist.push({"player":player, "tier":null, "division":null, "place":null, "season":String(s), "countPlacement":null, "propPlacement":null, "champ":null});
							toadd.push(s);
						}
					}
					pHist.sort(function(a,b){return a.season - b.season});
					//seasons = seasons.concat(toadd).sort(function(a,b){return a - b})
					seasons = ["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41"];
					var tiers = ["A","B","C","D","E","F","G","H","I","J"];
					var colors = ["#FF00FF","#9900FF","#0000FF","#4A85E8","#00FFFF","#00FF00","#FFFF00","#FF9800","#FF0000","#980000"];
					//some stuff to cut it because of annoying layering features
					colors = colors.concat(["#000000", "#000000", "#FFFF00"]);
					const spec = {
						"height": 400,
						"width" : 500,
						"layer": [
							{
								"data": {"values": counts},
								"mark": "bar",
								"encoding": {
									"x": {
										"field": "season",
										"type": "ordinal",
										"scale": {
											"domain": seasons
										}
									},
									"y": {
										"field": "lfrac",
										"type": "quantitative",
										"scale": {
											"reverse": true,
											"domain": [0,1]
										}
									},
									"color": {
										"field": "tier",
										"type": "nominal",
										"scale": {
											"domain": tiers,
											"range": colors
										},
										"legend": {"title": "Tier", "values": tiers}
									},
									"order": {"field":"tier", "sort":"ascending"}
								}
							},
							{
								"data": {"values": pHist},
								"mark": {"type": "line", "stroke": "#000000"},
								"encoding" : {
									"x": {"field": "season"},
									"y": {"field": "propPlacement", "type": "quantitative"}
								}
							},
							{
								"data": {"values": pHist},
								"mark": {"type": "point", "filled": true, "stroke": "#000000", "strokeWidth": "1", "opacity": "1"},
								"encoding": {
									"x": {"field": "season"},
									"y": {"field": "propPlacement", "type": "quantitative"},
									"color": {
										"field": "champ",
										"type": "nominal",
										"scale": {
											"domain": ["no", "division", "league"]
										}
									},
									"size": {
										"field": "champ",
										"type": "nominal",
										"scale": {
											"domain": ["no", "division", "league"],
											"range": ["50", "300", "100"]
										},
										"legend": null
									},
									"shape": {
										"field": "champ",
										"type": "nominal",
										"scale": {
											"domain": ["no", "division", "league"],
											"range": ["circle", 
											"M 0 -1 L -0.217962758401608 -0.3 L -0.951056516295154 -0.309016994374947 L -0.352671151375484 0.114589803375032 L -0.587785252292473 0.809016994374947 L -4.54109009700785e-17 0.370820393249937 L 0.587785252292473 0.809016994374948 L 0.352671151375484 0.114589803375032 L 0.951056516295154 -0.309016994374947 L 0.217962758401608 -0.3 L 2.44921270764475e-16 -1 L -0.217962758401608 -0.3",
											"M 0 -1 L -0.217962758401608 -0.3 L -0.951056516295154 -0.309016994374947 L -0.352671151375484 0.114589803375032 L -0.587785252292473 0.809016994374947 L -4.54109009700785e-17 0.370820393249937 L 0.587785252292473 0.809016994374948 L 0.352671151375484 0.114589803375032 L 0.951056516295154 -0.309016994374947 L 0.217962758401608 -0.3 L 2.44921270764475e-16 -1 L -0.217962758401608 -0.3"],
										}
									}
								}
							}
						]
									
					};
					vegaEmbed("#visual", spec);
					</script>
				</div>
			</div>
		
		</div>
	</body>
</html>